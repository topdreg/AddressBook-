import java.awt.Color;
import javax.swing.BorderFactory;
import javax.swing.DefaultListModel;
import javax.swing.border.Border;

/**
 *
 * @author Intergalactic Overlords, University of Oregon, 2014
 *
 */
public class EntryGUI extends javax.swing.JFrame {

	Contact contact;
	DefaultListModel listModel;
	boolean isNew;
    
	public EntryGUI(Contact contact, boolean isNew){
   	 this.isNew = isNew;
    	this.contact = contact;
    	initComponents();
    	populateFields();
	}

	public EntryGUI(Contact contact, DefaultListModel listModel, boolean isNew){
   	 this.isNew = isNew;
    	this.contact = contact;
    	initComponents();
    	populateFields();
    	this.listModel = listModel;//
	}

	private void populateFields() {
     	if(! contact.First_Name.equals("$")){f_name.setText(contact.First_Name);}
     	if(! contact.Last_Name.equals("$")){l_name.setText(contact.Last_Name);}
     	if(! contact.Address1.equals("$")){address1.setText(contact.Address1);}
     	if(! contact.Address2.equals("$")){address2.setText(contact.Address2);}
     	if(! contact.City.equals("$")){city.setText(contact.City);}
     	if(! contact.State.equals("$")){state.setText(contact.State);}
     	if(! contact.Zip.equals("$")){zip.setText(contact.Zip);}
     	if(! contact.Number.equals("$")){phone.setText(contact.Number);}
 	}
	/**
 	* This method is called from within the constructor to initialize the form.
 	* WARNING: Do NOT modify this code. The content of this method is always
 	* regenerated by the Form Editor.
 	*/
	@SuppressWarnings("unchecked")
	// <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
	private void initComponents() {

    	jLabel1 = new javax.swing.JLabel();
    	f_name = new javax.swing.JTextField();
    	jLabel2 = new javax.swing.JLabel();
    	l_name = new javax.swing.JTextField();
    	jLabel3 = new javax.swing.JLabel();
    	address1 = new javax.swing.JTextField();
    	address2 = new javax.swing.JTextField();
    	jLabel4 = new javax.swing.JLabel();
    	city = new javax.swing.JTextField();
    	jLabel5 = new javax.swing.JLabel();
    	state = new javax.swing.JTextField();
    	jLabel6 = new javax.swing.JLabel();
    	zip = new javax.swing.JTextField();
    	jLabel7 = new javax.swing.JLabel();
    	phone = new javax.swing.JTextField();
    	jLabel8 = new javax.swing.JLabel();
    	email = new javax.swing.JTextField();
    	cancelEntry = new javax.swing.JButton();
    	addField = new javax.swing.JButton();
    	saveEntry = new javax.swing.JButton();
    	address2 = new javax.swing.JTextField();

    	setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);

    	jLabel1.setText("First Name");
    	jLabel2.setText("Last Name");
    	jLabel3.setText("Street Address");
    	jLabel4.setText("City");
    	jLabel5.setText("State");
    	jLabel6.setText("Zip Code");
    	jLabel7.setText("Phone Number");
   	 

    	phone.addActionListener(new java.awt.event.ActionListener() {
        	public void actionPerformed(java.awt.event.ActionEvent evt) {
            	phoneActionPerformed(evt);
        	}
    	});

    	jLabel8.setText("Email Address");

    	cancelEntry.setText("Cancel");
    	cancelEntry.addActionListener(new java.awt.event.ActionListener() {
        	public void actionPerformed(java.awt.event.ActionEvent evt) {
            	cancelEntryActionPerformed(evt);
        	}
    	});

    	addField.setText("Add Field");
    	addField.addActionListener(new java.awt.event.ActionListener() {
        	public void actionPerformed(java.awt.event.ActionEvent evt) {
            	addFieldActionPerformed(evt);
        	}
    	});

    	saveEntry.setText("Save");
    	saveEntry.addActionListener(new java.awt.event.ActionListener() {
        	public void actionPerformed(java.awt.event.ActionEvent evt) {
            	saveEntryActionPerformed(evt);
        	}
    	});

    	javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());
    	getContentPane().setLayout(layout);
    	layout.setHorizontalGroup(
        	layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
        	.addGroup(layout.createSequentialGroup()
            	.addGap(20, 20, 20)
            	.addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                	.addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                    	.addGroup(layout.createSequentialGroup()
                        	.addComponent(addField)
                        	.addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                        	.addComponent(cancelEntry)
                        	.addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                        	.addComponent(saveEntry))
                    	.addComponent(jLabel3)
                    	.addGroup(layout.createSequentialGroup()
                        	.addComponent(jLabel1)
                        	.addGap(118, 118, 118)
                        	.addComponent(jLabel2))
                    	.addGroup(layout.createSequentialGroup()
                        	.addComponent(f_name, javax.swing.GroupLayout.PREFERRED_SIZE, 178, javax.swing.GroupLayout.PREFERRED_SIZE)
                        	.addGap(4, 4, 4)
                        	.addComponent(l_name))
                    	.addGroup(layout.createSequentialGroup()
                        	.addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            	.addComponent(jLabel7)
                            	.addComponent(phone, javax.swing.GroupLayout.PREFERRED_SIZE, 156, javax.swing.GroupLayout.PREFERRED_SIZE))
                        	.addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        	.addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            	.addComponent(jLabel8)
                            	.addComponent(email)))
                    	.addGroup(layout.createSequentialGroup()
                        	.addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            	.addComponent(jLabel4)
                            	.addComponent(city, javax.swing.GroupLayout.PREFERRED_SIZE, 239, javax.swing.GroupLayout.PREFERRED_SIZE))
                        	.addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                        	.addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            	.addComponent(jLabel5)
                            	.addComponent(state, javax.swing.GroupLayout.PREFERRED_SIZE, 111, javax.swing.GroupLayout.PREFERRED_SIZE))
                        	.addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        	.addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                            	.addComponent(jLabel6)
                            	.addComponent(zip, javax.swing.GroupLayout.PREFERRED_SIZE, 79, javax.swing.GroupLayout.PREFERRED_SIZE)))
                    	.addComponent(address2))
                	.addComponent(address1, javax.swing.GroupLayout.PREFERRED_SIZE, 447, javax.swing.GroupLayout.PREFERRED_SIZE))
            	.addContainerGap(13, Short.MAX_VALUE))
    	);
    	layout.setVerticalGroup(
        	layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
        	.addGroup(layout.createSequentialGroup()
            	.addContainerGap()
            	.addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                	.addComponent(jLabel2)
                	.addComponent(jLabel1))
            	.addGap(0, 0, 0)
            	.addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                	.addComponent(f_name, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                	.addComponent(l_name, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
            	.addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
            	.addComponent(jLabel3)
            	.addGap(0, 0, 0)
            	.addComponent(address1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
            	.addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, 7, Short.MAX_VALUE)
            	.addComponent(address2, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
            	.addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
            	.addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                	.addGroup(layout.createSequentialGroup()
                    	.addComponent(jLabel4)
                    	.addGap(0, 0, 0)
                    	.addComponent(city, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                	.addGroup(layout.createSequentialGroup()
                    	.addComponent(jLabel5)
                    	.addGap(0, 0, 0)
                    	.addComponent(state, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                	.addGroup(layout.createSequentialGroup()
                    	.addComponent(jLabel6)
                    	.addGap(0, 0, 0)
                    	.addComponent(zip, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)))
            	.addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
            	.addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                	.addGroup(layout.createSequentialGroup()
                    	.addComponent(jLabel7)
                    	.addGap(0, 0, 0)
                    	.addComponent(phone, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                	.addGroup(layout.createSequentialGroup()
                    	.addComponent(jLabel8)
                    	.addGap(0, 0, 0)
                    	.addComponent(email, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)))
            	.addGap(24, 24, 24)
            	.addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                	.addComponent(cancelEntry)
                	.addComponent(addField)
                	.addComponent(saveEntry))
            	.addContainerGap())
    	);

    	pack();
    	setLocationRelativeTo(null);
	}// </editor-fold>//GEN-END:initComponents

	private void phoneActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_phoneActionPerformed
    	// TODO add your handling code here:
	}//GEN-LAST:event_phoneActionPerformed

	private void addFieldActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_addFieldActionPerformed
    	// TODO add your handling code here:
	}//GEN-LAST:event_addFieldActionPerformed

	private void cancelEntryActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_cancelEntryActionPerformed
    	setVisible(false); //you can't see me!
    	dispose();
	}//GEN-LAST:event_cancelEntryActionPerformed

private void saveEntryActionPerformed(java.awt.event.ActionEvent evt) {                                     	 
	//zip must be 5 characters long and all ints
    	boolean allgood = true;
   	 
    	Border borderRed = BorderFactory.createLineBorder(Color.red, 2);
    	Border borderReg = address2.getBorder();
   	 
    	zip.setBorder(borderReg);
    	phone.setBorder(borderReg);
    	address1.setBorder(borderReg);
    	email.setBorder(borderReg);
    	f_name.setBorder(borderReg);
    	l_name.setBorder(borderReg);
    	city.setBorder(borderReg);
    	state.setBorder(borderReg);
   	 
   	 
    	//zip must must be NOT NULL and 5 characters [0-9]
    	if(! ((! zip.getText().equals("")) && (zip.getText().length() == 5) && (zip.getText().matches("[0-9]+")))){
        	zip.setBorder(borderRed);
        	allgood = false;
    	}
    	//phone number must be 10 characters [0-9]
    	if(! ((phone.getText().length() == 10) && (phone.getText().matches("[0-9]+")))){
        	phone.setBorder(borderRed);
        	allgood = false;
    	}
    	//email must contain "@" and "."
    	if(! (email.getText().contains("@")) && (email.getText().contains("."))){
        	email.setBorder(borderRed);
        	allgood = false;
    	}
    	//first name must be NOT NULL and [a-z][A-Z]
    	if(! ((! f_name.getText().equals("")) && (f_name.getText().matches("[a-zA-Z]+")))){
        	f_name.setBorder(borderRed);
        	allgood = false;
    	}
    	//last name must be NOT NULL and [a-z][A-Z]
    	if(! ((! l_name.getText().equals("")) && (l_name.getText().matches("[a-zA-Z]+")))){
        	l_name.setBorder(borderRed);
        	allgood = false;
    	}
    	//city must be NOT NULL and [a-z][A-Z]
    	if(! ((! city.getText().equals("")) && (city.getText().matches("[a-zA-Z]+")))){
        	city.setBorder(borderRed);
        	allgood = false;
    	}
    	//state must be NOT NULL and [a-z][A-Z]
    	if(! ((! state.getText().equals("")) && (state.getText().matches("[a-zA-Z]+")) && (state.getText().length() == 2))){
        	state.setBorder(borderRed);
        	allgood = false;
    	}
    	if(address1.getText().equals("")){
        	address1.setBorder(borderRed);
    	}
    	if(allgood){
        	if(f_name.getText().equals("")){contact.First_Name = "$";}else{contact.First_Name = f_name.getText();}
        	if(l_name.getText().equals("")){contact.Last_Name = "$";}else{contact.Last_Name = l_name.getText();}
        	if(address1.getText().equals("")){contact.Address1 = "$";}else{contact.Address1 = address1.getText();}
        	if(address2.getText().equals("")){contact.Address2 = "$";}else{contact.Address2 = address2.getText();}
        	if(city.getText().equals("")){contact.City = "$";}else{contact.City = city.getText();}
        	if(state.getText().equals("")){contact.State = "$";}else{contact.State = state.getText();}
        	if(zip.getText().equals("")){contact.Zip = "$";}else{contact.Zip = zip.getText();}
        	if(phone.getText().equals("")){contact.Number = "$";}else{contact.Number = phone.getText();}
        	if(email.getText().equals("")){contact.Email = "$";}else{contact.Email = email.getText();}
        	if(!isNew){
       		 listModel.addElement(contact);
        	}
        	this.dispose();
    	}
	}  //GEN-LAST:event_saveEntryActionPerformed  	 


	/**
 	* @param args the command line arguments
 	*/
	public static void main(String args[]) {
    	/* Set the Nimbus look and feel */
    	//<editor-fold defaultstate="collapsed" desc=" Look and feel setting code (optional) ">
    	/* If Nimbus (introduced in Java SE 6) is not available, stay with the default look and feel.
     	* For details see http://download.oracle.com/javase/tutorial/uiswing/lookandfeel/plaf.html
     	*/
    	try {
        	for (javax.swing.UIManager.LookAndFeelInfo info : javax.swing.UIManager.getInstalledLookAndFeels()) {
            	if ("Nimbus".equals(info.getName())) {
                	javax.swing.UIManager.setLookAndFeel(info.getClassName());
                	break;
            	}
        	}
    	} catch (ClassNotFoundException ex) {
        	java.util.logging.Logger.getLogger(EntryGUI.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
    	} catch (InstantiationException ex) {
        	java.util.logging.Logger.getLogger(EntryGUI.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
    	} catch (IllegalAccessException ex) {
        	java.util.logging.Logger.getLogger(EntryGUI.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
    	} catch (javax.swing.UnsupportedLookAndFeelException ex) {
        	java.util.logging.Logger.getLogger(EntryGUI.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
    	}
    	//</editor-fold>

    	/* Create and display the form */
    	java.awt.EventQueue.invokeLater(new Runnable() {
        	public void run() {
//            	new Entry();
        	}
    	});
	}

	// Variables declaration - do not modify//GEN-BEGIN:variables
	private javax.swing.JButton addField;
	private javax.swing.JTextField address1;
	private javax.swing.JTextField address2;
	private javax.swing.JButton cancelEntry;
	private javax.swing.JTextField city;
	private javax.swing.JTextField email;
	private javax.swing.JTextField f_name;
	private javax.swing.JLabel jLabel1;
	private javax.swing.JLabel jLabel2;
	private javax.swing.JLabel jLabel3;
	private javax.swing.JLabel jLabel4;
	private javax.swing.JLabel jLabel5;
	private javax.swing.JLabel jLabel6;
	private javax.swing.JLabel jLabel7;
	private javax.swing.JLabel jLabel8;
	private javax.swing.JTextField l_name;
	private javax.swing.JTextField phone;
	private javax.swing.JButton saveEntry;
	private javax.swing.JTextField state;
	private javax.swing.JTextField zip;
	// End of variables declaration//GEN-END:variables
}


